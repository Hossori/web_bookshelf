<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{part/layout}">
    <head>
        <title th:text="#{title.bookshelf.index}+#{title.postfix}"></title>
        <link rel="stylesheet" th:href="@{/css/bookshelf.css}">
        <link rel="stylesheet" th:href="@{/css/pagination.css}">
        <script th:src="@{/js/part/bookshelf.js}" defer></script>
        <script th:src="@{/js/part/pagination.js}" defer></script>
    </head>
    <body>
        <div layout:fragment="content">
            <h1>Bookshelf</h1>
            <form>
                <input type="text" th:id="#{bookshelf.searchBox.id}">
                <input type="submit" th:id="#{bookshelf.searchButton.id}" th:value="#{bookshelf.searchButton.caption}">
            </form>
            <div th:id="#{bookshelf.list.container.id}">
                <a th:each="bookshelf:${bookshelfs}" th:href="@{/bookshelf/show(id=${bookshelf.id}, page=0)}" class="bookshelfListAnchor">
                    <div th:id="'bookshelf'+${bookshelf.id}" class="bookshelfList">
                        <table class="bookshelfListInfo">
                            <tr th:title="#{bookshelf.list.caption.userName}">
                                <td th:text="${bookshelf.user.name}"></td>
                            </tr>
                            <tr th:title="#{bookshelf.list.caption.name}">
                                <td th:text="${bookshelf.name}"></td>
                            </tr>
                            <tr th:title="#{bookshelf.list.caption.createdAt}">
                                <td th:text="${bookshelf.createdAt}"></td>
                            </tr>
                        </table>
                    </div>
                </a>
            </div>
            <ul th:id="#{pagination.container.id}" class="pagination">
                 <li th:if="${bookshelfPages.first}">
                     <span>前</span>
                 </li>
                 <li th:if="${!bookshelfPages.first}">
                     <a th:href="@{index(page=${bookshelfPages.number}-1)}">前</a>
                 </li>

                 <li th:each="i:${#numbers.sequence(0, pageCount-1)}">
                     <span th:if="${i == bookshelfPages.number}" th:text="${i+1}"></span>
                     <a th:if="${i != bookshelfPages.number}" th:href="@{index(page=${i})}" th:text="${i+1}"></a>
                 </li>

                 <li th:if="${bookshelfPages.last}">
                     <span>次</span>
                 <li>
                 <li th:if="${!bookshelfPages.last}">
                     <a th:href="@{index(page=${bookshelfPages.number}+1)}">次</a>
                 </li>
            </ul>
        </div>
    </body>
</html>